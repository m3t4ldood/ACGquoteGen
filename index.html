<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Quote Generator</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #222;
    color: #fff;
    margin: 0;
    padding: 0;
  }
  h1 {
    margin-top: 20px;
  }
  #quote-box {
    max-width: 600px;
    margin: 20px auto;
    background: rgba(0,0,0,0.7);
    padding: 20px;
    border-radius: 12px;
    transition: background 0.5s;
  }
  #quote {
    font-size: 1.5em;
    margin-bottom: 10px;
  }
  #author {
    font-size: 1.1em;
    opacity: 0.8;
  }
  button {
    margin: 5px;
    padding: 10px 15px;
    border: none;
    border-radius: 8px;
    background: #00c6ff;
    color: #fff;
    font-size: 1em;
    cursor: pointer;
    transition: background 0.3s;
  }
  button:hover {
    background: #007b9f;
  }
  /* Added style for the search input */
  .search-container {
    margin-top: 15px; /* Add some space above the search bar */
  }
  .search-container input[type="text"] {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    width: 300px; /* Adjust width as needed */
    font-size: 1em;
    background: #fff;
    color: #333;
  }
  .search-container button {
    margin-left: 10px;
  }
</style>
</head>
<body>

<h1>Ultimate Quote Generator</h1>
<div id="quote-box">
  <p id="quote">Loading...</p>
  <p id="author"></p>
</div>

<div>
  <button onclick="prevQuote()">‚¨Ö Previous</button>
  <button onclick="newQuote()">‚û° Next</button>
  <button onclick="copyQuote()">üìã Copy</button>
  <button onclick="toggleFavorite()">‚≠ê Favorite</button>
  <button onclick="showFavorites()">‚ù§Ô∏è View Favorites</button>
  <button onclick="shareQuote()">üê¶ Share</button>
</div>

<!-- Added Search Section -->
<div class="search-container">
    <input type="text" id="search" placeholder="Search quotes or authors..." onkeyup="if(event.keyCode===13) searchQuotes()">
    <button onclick="searchQuotes()">üîç Search</button>
</div>


<script>
const quotes = [
  { text: "Be yourself; everyone else is already taken.", author: "Oscar Wilde" },
  { text: "Two things are infinite: the universe and human stupidity.", author: "Albert Einstein" },
  { text: "In the middle of every difficulty lies opportunity.", author: "Albert Einstein" },
  { text: "Life is what happens when you're busy making other plans.", author: "John Lennon" },
  { text: "Not all those who wander are lost.", author: "J.R.R. Tolkien" },
  { text: "The best way to predict the future is to invent it.", author: "Alan Kay" }
];

let currentIndex = 0;
let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

function displayQuote(index) {
  const q = quotes[index];
  document.getElementById("quote").textContent = q.text;
  document.getElementById("author").textContent = "- " + q.author;
  randomBackground();
}

function newQuote() {
  currentIndex = (currentIndex + 1) % quotes.length;
  displayQuote(currentIndex);
}

function prevQuote() {
  currentIndex = (currentIndex - 1 + quotes.length) % quotes.length;
  displayQuote(currentIndex);
}

function copyQuote() {
  const q = `${quotes[currentIndex].text} ‚Äî ${quotes[currentIndex].author}`;
  navigator.clipboard.writeText(q);
  alert("Quote copied!");
}

function toggleFavorite() {
  const q = quotes[currentIndex];
  const exists = favorites.find(f => f.text === q.text);
  if (exists) {
    favorites = favorites.filter(f => f.text !== q.text);
    alert("Removed from favorites");
  } else {
    favorites.push(q);
    alert("Added to favorites");
  }
  localStorage.setItem("favorites", JSON.stringify(favorites));
}

function showFavorites() {
  if (favorites.length === 0) {
    alert("No favorites yet.");
    return;
  }
  let favList = favorites.map(f => `"${f.text}" ‚Äî ${f.author}`).join("\n\n");
  alert("Favorites:\n\n" + favList);
}

function shareQuote() {
  const q = encodeURIComponent(`${quotes[currentIndex].text} ‚Äî ${quotes[currentIndex].author}`);
  window.open(`https://twitter.com/intent/tweet?text=${q}`, "_blank");
}

function searchQuotes() {
  const term = document.getElementById("search").value.toLowerCase();
  // Start search from the current index to loop through efficiently if needed
  let foundIndex = -1;
  // Search from current index to end
  for (let i = currentIndex + 1; i < quotes.length; i++) {
    if (quotes[i].text.toLowerCase().includes(term) || quotes[i].author.toLowerCase().includes(term)) {
      foundIndex = i;
      break;
    }
  }
  // If not found from current index to end, search from beginning to current index
  if (foundIndex === -1) {
    for (let i = 0; i <= currentIndex; i++) {
        if (quotes[i].text.toLowerCase().includes(term) || quotes[i].author.toLowerCase().includes(term)) {
            foundIndex = i;
            break;
        }
    }
  }

  if (foundIndex >= 0) {
    currentIndex = foundIndex;
    displayQuote(currentIndex);
  } else {
      alert("No matching quotes found."); // Inform user if no quote is found
  }
}

function randomBackground() {
  const colors = ["#222", "#333", "#444", "#550000", "#003355", "#113311", "#663399"];
  document.body.style.background = colors[Math.floor(Math.random() * colors.length)];
}

displayQuote(currentIndex);
</script>

</body>
</html>
